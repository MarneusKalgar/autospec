function callbackForm(){var e=$("#callBtn"),s=$("#callForm"),i=$(".callback-form, .action-form"),t=$(".callus__form-wrap"),a=$("#actionClose"),n=$("");n.length&&$(":input[type='tel']").mask("+999 (99) 999 - 99 - 99"),i.each(function(){$(this).validate({rules:{"callback-name":{required:!0},"callback-tel":{required:!0}},messages:{"callback-name":{required:"Пожалуйста, введите имя"},"callback-tel":"Пожалуйста, введите номер телефона",usermail:{required:"Пожалуйста, введите email",email:"Формат почты example@email.com"}}})}),e.on("click",function(){t.hasClass("callus__form-wrap--isActive")||t.addClass("callus__form-wrap--isActive"),s.hasClass("action-form--isActive")||s.addClass("action-form--isActive")}),a.on("click",function(){t.removeClass("callus__form-wrap--isActive"),s.removeClass("callback-form--isActive")})}function bundles(){var e=$(".bundles__table"),s=e.clone().insertBefore(e).addClass("fixed-column");s.find("th:not(:first-child),td:not(:first-child)").remove(),s.find("tr").each(function(s,i){$(this).height(e.find("tr:eq("+s+")").height())})}function clients(){var e=$("#clientsForm");e.validate({rules:{usercompany:{required:!0},usermessage:{required:!0},username:{required:!0},usermail:{required:!0,email:!0},userphone:{required:!0}},messages:{usercompany:{required:"Пожалуйста, введите компанию"},username:{required:"Пожалуйста, введите ФИО"},usermail:{required:"Пожалуйста, введите адрес",email:"Адрес должен быть в формате example@email.com"},usermessage:{required:"Пожалуйста, введите данные"},userphone:{required:"Пожалуйста, введите номер"}}}),$("#userphone").mask("+999 (99) 999 - 99 - 99")}function component(){var e=$(".component__form");e.validate({rules:{username:{required:!0},usertel:{required:!0},usernum:"required",usertext:"required"},messages:{username:{required:"Пожалуйста, введите имя"},usertel:"Пожалуйста, введите номер телефона",usernum:"Пожалуйста, введите VIN код",usertext:"Пожалуйста, введите сообщение"}}),$("#usertel").mask("+999 (99) 999 - 99 - 99")}function contacts(){var e={lat:50.47154,lng:30.500401},s=new google.maps.Map(document.getElementById("map"),{zoom:16,center:e,disableDefaultUI:!0}),i="img/contacts/marker.svg";new google.maps.Marker({position:e,map:s,icon:i})}function header(){if($(".header--singleService").length){var e=$("#to_bundles"),s=$(".header__list"),i=$(".menu-btn");if(e.on("click",function(e){e.preventDefault();var t=$(this).attr("data-link"),a=$(t).offset().top;$("html, body").animate({scrollTop:a},500),i.removeClass("menu-btn--isActive"),s.removeClass("header__list--isVisible")}),$(window).width()>1100){var t=$(window),a=$(".header--singleService");t.on("scroll",function(){var e=t.scrollTop();e>0?a.addClass("header--isScrolled"):a.removeClass("header--isScrolled")})}}}function hero(){var e=$(".hero__link"),s=$(".hero__btn");e.on("click",function(e){e.preventDefault();var s=$(this).attr("data-link"),i=$(s).offset().top;$("html, body").animate({scrollTop:i},500)}),s.on("click",function(e){e.preventDefault();var s=$(this).attr("data-link"),i=$(s).offset().top;$("html, body").animate({scrollTop:i},500)})}function gallery(){var e=$("#tour"),s=$("#frame");e.on("click",function(){s.css("pointer-events","auto")}),e.on("mouseleave",function(){s.css("pointer-events","none")})}function mainNav(){var e=$(".main-nav__link--active");e.on("click",function(e){e.preventDefault()})}function menuBtn(){var e=$(".menu-btn"),s=$(".header"),i=$(".sidebar"),t=($("body"),$(".page__wrap")),a=$(".main"),n=$(".tab-panel__menu"),l=$(".vacancies"),r=$(".services"),o=$(".trust__cars"),c=$(".clients"),d=$(".clients__form"),u=$(".clients__list"),m=$(".contacts");$(".component");if(a.length||e.removeClass("menu-btn--isAnimated").css({opacity:"1"}),window.addEventListener("resize",function(){s.hasClass("header--isOverlay")&&window.outerWidth>768&&(console.log("works!"),s.removeClass("header--isOverlay"),i.removeClass("sidebar--isMove"),e.removeClass("menu-btn--isActive"),n.length&&(n.removeClass("tab-panel__menu--isOverlay"),l.removeClass("vacancies--isOverlay")),o.length&&o.removeClass("trust__cars--isOverlay"))},!1),e.on("click",function(){e.hasClass("menu-btn--isActive")?e.removeClass("menu-btn--isActive"):e.addClass("menu-btn--isActive"),i.hasClass("sidebar--isMove")?i.removeClass("sidebar--isMove"):i.addClass("sidebar--isMove"),t.hasClass("page__wrap--singleService")||(s.hasClass("header--isOverlay")?s.removeClass("header--isOverlay"):s.addClass("header--isOverlay")),n.length&&(n.hasClass("tab-panel__menu--isOverlay")?n.removeClass("tab-panel__menu--isOverlay"):n.addClass("tab-panel__menu--isOverlay"),l.hasClass("vacancies--isOverlay")?l.removeClass("vacancies--isOverlay"):l.addClass("vacancies--isOverlay")),o.length&&(o.hasClass("trust__cars--isOverlay")?o.removeClass("trust__cars--isOverlay"):o.addClass("trust__cars--isOverlay")),c.length&&(d.toggleClass("clients__form--isOverlay"),u.toggleClass("clients__list--isOverlay")),m.length&&m.toggleClass("contacts--isOverlay")}),i.hasClass("sidebar--isComponent")&&e.off("click"),e.hasClass("menu-btn--fixed")){var _=$(".header__list");e.on("click",function(){r.removeClass("services--isOverlay"),m.removeClass("contacts--isOverlay"),_.toggleClass("header__list--isVisible")})}}function orderForm(){var e=$(".order-form");e.each(function(){$(this).validate({rules:{username:{required:!0},usermail:{required:!0,email:!0},usertel:{required:!0},carbrand:"required",carmodel:"required",caryear:"required",vincode:"required"},messages:{username:{required:"Пожалуйста, введите имя"},usermail:{required:"Пожалуйста, введите адрес",email:"Формат адреса example@email.com"},usertel:"Пожалуйста, введите номер телефона",carbrand:"Пожалуйста, введите марку автомобиля",carmodel:"Пожалуйста, введите модель автомобиля",caryear:"Пожалуйста, введите год выпуска",vincode:"Пожалуйста, введите VIN код"}})}),$(":input[type='tel']").mask("+999 (99) 999 - 99 - 99")}function page(){function e(e){e.on("scroll",function(){e.scrollTop()>0?i.hasClass("sidebar--isMove")||s.addClass("logo--isFaded"):i.hasClass("sidebar--isMove")||s.removeClass("logo--isFaded")})}var s=$(".logo"),i=$(".sidebar"),t=$(".about"),a=$(".services"),n=$(".trust"),l=$(".clients"),r=$(".contacts"),o=$(".vacancies");t.length&&e(t),a.length&&e(a),n.length&&e(n),l.length&&e(l),r.length&&e(r),o.length&&e(o)}function prices(){var e,s=($(".prices__cars"),$(".prices__cars-btn")),i=$(".prices__modals"),t=$(".prices__modal"),a=$(".prices__modal-btn"),n=$(".prices__modal-price"),l=$(".prices__close"),r=$(".prices__modal"),o=$("body"),c=o.offset().top,d=o.offset().left;s.on("click",function(){$(this).addClass("prices__cars-btn--isActive"),i.find($(this).siblings().removeClass("prices__cars-btn--isActive")),i.find(t.eq($(this).index())).siblings().removeClass("prices__modal--isActive").slideUp(400),i.find(t.eq($(this).index())).toggleClass("prices__modal--isActive"),i.find(t.eq($(this).index())).slideToggle(400)}),a.on("click",function(){$(this).closest(r).find(n).addClass("prices__modal-price--isActive").css({top:c,left:d}),console.log(n.offset()),console.log(o.offset().top),setTimeout(function(){o.addClass("page--isModal")},400),e=$(window).scrollTop()}),l.on("click",function(){n.removeClass("prices__modal-price--isActive"),o.removeClass("page--isModal"),setTimeout(function(){$(window).scrollTop(e)},100)})}function scrollToTop(){var e=$(".scroll-to-top");e.on("click",function(e){e.preventDefault();var s=$(this).attr("href"),i=$(s).offset().top;$("html, body").animate({scrollTop:i},500)})}function sidebar(){var e=($(".sidebar__link"),$(".page__frame-wrap"),$(".page"));!e.hasClass("page--singleService")}function tabPanel(){var e=$(".tab-panel"),s=$(".tab-panel__menu"),i=$(".tab-panel__item"),t=$(".tab-panel__item--tour"),a=$("#frame");s.on("click","li:not(.tab-panel__tab--active)",function(){var s=this;$(s).addClass("tab-panel__tab--active").siblings().removeClass("tab-panel__tab--active").closest(e).find(i).removeClass("tab-panel__item--active").eq($(s).index()).addClass("tab-panel__item--active"),setTimeout(function(){$(s).closest(e).find(i).removeClass("tab-panel__item--animate").eq($(s).index()).addClass("tab-panel__item--animate")},100)}),t.on("click",function(){a.css("pointer-events","auto")}),t.on("mouseleave",function(){a.css("pointer-events","none")})}function tabs(){var e=$(".tabs"),s=$(".tabs__menu"),i=$(".tabs__item");s.on("click","li:not(.tabs__tab--active)",function(){var s=this;setTimeout(function(){$(s).addClass("tabs__tab--active").siblings().removeClass("tabs__tab--active").closest(e).find(i).removeClass("tabs__item--active").eq($(s).index()).addClass("tabs__item--active")},300)});var t=$(".tabs__service");t.on("click",function(){$(this).toggleClass("tabs__service--isSelected")})}function trust(){var e=($(".thumbs__cars"),$(".trust__thumbs")),s=($(".trust__thumbs-item"),$(".trust__slide")),i=$(".trust__modals"),t=$(".trust__controls"),a=$(".trust__btn"),n=$(".trust__toggle--next"),l=$(".trust__toggle--prev");e.on("click","li",function(){i.addClass("trust__modals--isActive"),setTimeout(function(){t.addClass("trust__controls--isActive"),a.addClass("trust__btn--isActive")},200),i.find(s.eq($(this).index())).addClass("trust__slide--isActive")}),a.on("click",function(){i.addClass("trust__modals--isMove"),t.removeClass("trust__controls--isActive"),a.removeClass("trust__btn--isActive"),setTimeout(function(){i.removeClass("trust__modals--isMove"),i.removeClass("trust__modals--isActive"),s.removeClass("trust__slide--isActive")},200)}),n.on("click",function(){var e=$(".trust__slide--isActive"),s=e.next(),i=$(".trust__slide");0===s.length&&(s=i.first()),setTimeout(function(){e.removeClass("trust__slide--isActive")},300),setTimeout(function(){s.addClass("trust__slide--isActive")},300)}),l.on("click",function(){var e=$(".trust__slide--isActive"),s=e.prev(),i=$(".trust__slide");0===s.length&&(s=i.last()),setTimeout(function(){e.removeClass("trust__slide--isActive")},300),setTimeout(function(){s.addClass("trust__slide--isActive")},300)})}function whySlider(){var e,s=$(".why__slider"),i=$(".why__slider-wrap"),t=$(".why__list"),a=$(".why__control--next"),n=$(".why__control--prev");$(".why__slide");e=$(window).width()>=500?22:18.5,console.log(e),a.on("click",function(){s.find(i).animate({left:"-"+e+"em"},500,function(){s.find(t).find(".why__slide").eq(0).clone().appendTo(s.find(i).find(t)),s.find(t).find(".why__slide").eq(0).remove(),s.find(i).css({left:0})})}),n.on("click",function(){s.find(t).find(".why__slide").eq(-1).clone().prependTo(s.find(i).find(t)),s.find(i).css({left:"-"+e+"em"}),s.find(t).find(".why__slide").eq(-1).remove(),s.find(i).animate({left:0},500)})}$(function(){page(),menuBtn(),mainNav(),callbackForm(),tabPanel(),trust(),clients(),header(),hero(),tabs(),orderForm(),whySlider(),scrollToTop(),component(),gallery(),prices()}),function(e){var s={init:function(s){var i=e.extend({speed:400},s),t=i.panel,a=t.attr("class")+"--isActive",n=i.control,l=n.attr("class")+"--isActive",r=i.content,o=r.attr("class")+"--isActive";t.removeClass(a),n.removeClass(l),r.removeClass(o),t.on("click",function(){e(this).hasClass(a)?(e(this).removeClass(a),e(this).find(n).removeClass(l),e(this).next().slideUp(i.speed),e(this).siblings().find(n).removeClass(l)):(e(this).addClass(a).siblings().removeClass(a),e(this).find(n).addClass(l),e(this).siblings().find(n).removeClass(l),e(this).next().slideDown(i.speed).siblings().not(t).slideUp(i.speed))})}};e.fn.accordionModule=function(i){return s[i]?s[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void e.error('Метод "'+i+'" в плагине не найден'):s.init.apply(this,arguments)}}(jQuery);