extends _assets/components/template

block content
	+main()


block scripts
	// build:js js/main.js
	script( src="js/main.js")
	// endbuild

	script.
		$(".sidebar").addClass("sidebar--isAnimated");
		setTimeout(function () {
			$(".main__light").addClass("main__light--isAnimated");
		}, 2500);

	script.
		$('.animsition').animsition({
			inClass: 'fade-in',
			outClass: 'fade-out',
			inDuration: 500,
			outDuration: 500,
			linkElement: '.animsition-link',
			// e.g. linkElement: 'a:not([target="_blank"]):not([href^="#"])'
			loading: true,
			loadingParentElement: 'body', //animsition wrapper element
			loadingClass: 'animsition-loading',
			loadingInner: '', // e.g '<img src="loading.svg" />'
			timeout: false,
			timeoutCountdown: 1000,
			onLoadEvent: true,
			browser: ['animation-duration', '-webkit-animation-duration'],
			// "browser" option allows you to disable the "animsition" in case the css property in the array is not supported by your browser.
			// The default setting is to disable the "animsition" in a browser that does not support "animation-duration".
			overlay: false,
			overlayClass: 'animsition-overlay-slide',
			overlayParentElement: 'body',
			transition: function (url) {
				window.location.href = url;
			}
		});

	script(src="https://www.youtube.com/iframe_api")

	script.

		var player;
		function onYouTubeIframeAPIReady () {
			player = new YT.Player('player', {
				width: "1280",
				height: "720",
				autoplay: false,
				videoId: '8LN4nIogJUI',
				events: {
					'onReady': onPlayerReady
				}
			});
		}

		//'KmtSqnqOZGw'

		function onPlayerReady (event) {
			event.target.setVolume(100);
			player.setPlaybackQuality("hd720");
		}

		function pauseVideo () {
			player.pauseVideo();
		}

		var link = document.querySelector(".sidebar__link");
		var wrapper = document.querySelector(".page__frame-wrap");
		var close = document.getElementById("closePlayer");

		link.addEventListener("click", function () {
			if ( !wrapper.classList.contains("page__frame-wrap--isActive") ) {
				wrapper.classList.add("page__frame-wrap--isActive");
			}
		});

		close.addEventListener("click", function () {
			player.pauseVideo();
			wrapper.classList.remove("page__frame-wrap--isActive");
		});